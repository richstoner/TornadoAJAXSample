<!DOCTYPE html>
<html lang="en">
<head>

   <meta charset="utf-8">
   <title>Allen Institute Hackathon</title>
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta name="description" content="">
   <meta name="author" content="">


   <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
   <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->

      <link rel="shortcut icon" href="assets/ico/favicon.ico">

      <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
      <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">      
      <link href="/static/assets/css/bootstrap.min.css" rel="stylesheet">

      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>  
      <script src="/static/assets/js/bootstrap.min.js" type="text/javascript"></script>    
      
      <script>

      $(document).ready(function()
      {
         // initialize the viewer
         $('#runajax').click(function(event){

            var valueForInput1 = $("#input1").val();
            var valueForInput2 = $("#input2").val();

            var data = 
               {
                  key1: valueForInput1, 
                  key2: valueForInput2
               };

               var dataToSend = JSON.stringify(data);

            $.ajax(
            {
               url: '/test/',
               type: 'POST',
               data: dataToSend,
               
               success: function(jsonResponse)
               {
                  var objresponse = JSON.parse(jsonResponse);
                  console.log(objresponse['newkey']);

                  $("#responsefield").text(objresponse['newkey']);

               },
               error: function()
               {
                  $("#responsefield").text("Error to load api");
                  
               }
            });

         event.preventDefault();
         });   
      });
      

      </script>


      <style>
      html {
         font: normal 13px  "HelveticaNeue-Light", Helvetica, Georgia, sans-serif; 
      }

      body{
         font: normal 13px  "HelveticaNeue-Light", Helvetica, Georgia, sans-serif;           
         background: url(static/assets/img/graphy.png);
         background-repeat:repeat;
      }
      </style>

   </head>



   <body id="bootstrap-js">

      <div class="navbar">
         <div class="navbar-inner">
            <div class="container" style="width: auto;">
               <a class="brand" href="#">Allen Institute Hackathon</a>
               <div class="nav-collapse">
                  <ul class="nav">
                     <li class="active"><a href="#">Index</a></li>
                     <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                           <li><a href="#">Action</a></li>
                           <li><a href="#">Another action</a></li>
                           <li><a href="#">Something else here</a></li>
                           <li class="divider"></li>
                           <li class="nav-header">Nav header</li>
                           <li><a href="#">Separated link</a></li>
                           <li><a href="#">One more separated link</a></li>
                        </ul>
                     </li>
                  </ul>
                  <form class="navbar-search pull-right" action="">
                     <input type="text" class="search-query span2" placeholder="Search">
                  </form>
               </div>
            </div>
         </div>
      </div>

      <div class="container">
         <div class="span12">
            <div id="sdcontainer">
             <form class="well form-inline">

               <input id="input1" type="text" class="input" placeholder="This text will get returned">
               <input id="input2" type="text" class="input" placeholder="This text won't">

               <button id="runajax" class="btn btn-primary">Run</button>
            </form>
            <span id="responsefield"></span>

            
         </div>
      </div>
   </div>
</body>
</html>





